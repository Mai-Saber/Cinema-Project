{"ast":null,"code":"import _regeneratorRuntime from\"/home/mai/mai/git hub/project-by-hooks/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/mai/mai/git hub/project-by-hooks/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mai/mai/git hub/project-by-hooks/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{Row,Col}from\"react-bootstrap\";import Icon from\"../../common/icon\";import AddBox from\"../../common/add box\";import*as services from\"../../services/axios\";import\"./moviesList.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MoviesList(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),allMovies=_useState6[0],setAllMovies=_useState6[1];useEffect(function(){function GetMovies(){return _GetMovies.apply(this,arguments);}function _GetMovies(){_GetMovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return services.handleGetAllMovies();case 2:res=_context.sent;setAllMovies(res);console.log(\"res\",res);case 5:case\"end\":return _context.stop();}}},_callee);}));return _GetMovies.apply(this,arguments);}GetMovies();},[]);///////////////////////\nvar handleEdit=function handleEdit(_ref){var id=_ref.id,name=_ref.name;document.getElementById(\"add-box\").style.display=\"block\";setName(name);setId(id);};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:toast.success(\"Note: this Api doesn't allow to edit data, but the code is correct, look at console to see your edit\");document.getElementById(\"add-box\").style.display=\"none\";data={title:name};console.log(data);// await services.handleEditMovie(id, data);\ncase 4:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:toast.success(\"DONE\");// await services.handleRemoveMovie(id);\nsetAllMovies(allMovies.filter(function(m){return m.id!==id;}));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDelete(_x){return _ref3.apply(this,arguments);};}();var handleHideAddBox=function handleHideAddBox(){document.getElementById(\"add-box\").style.display=\"none\";};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(AddBox,{id:\"add-box\",header:\"Edit Movie Name\",onSubmit:function onSubmit(){return handleSubmit();},onCancel:handleHideAddBox,children:[/*#__PURE__*/_jsx(\"p\",{className:\"note\",children:\"Note: this Api doesn't allow to edit data, but the code is correct\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"write another name\",name:\"name\",value:name||\"\",onChange:function onChange(e){return setName(e.target.value);}})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"moviesList\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"header\",children:[\"There are \",(allMovies||[]).length,\" movies here \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-div\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"TITLE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"LANGUAGE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"RELEASE DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(allMovies||[]).map(function(movie){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[movie.title,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[movie.original_language,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[movie.id,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[movie.release_date,\" \"]}),/*#__PURE__*/_jsx(\"td\",{className:\"icons\",children:/*#__PURE__*/_jsx(Icon,{id:\"trashIcon\",title:\"delete\",className:\"ri-delete-bin-line\",onClick:function onClick(){return handleDelete(movie.id);}})}),/*#__PURE__*/_jsx(\"td\",{className:\"icons\",children:/*#__PURE__*/_jsx(Icon,{id:\"arrowIcon\",title:\"edit this name\",className:\"ri-edit-line\",onClick:function onClick(){return handleEdit({id:movie.id,name:movie.title});}})})]},movie.id);})})]})})]})]});}export default MoviesList;","map":{"version":3,"names":["React","useState","useEffect","toast","Row","Col","Icon","AddBox","services","MoviesList","name","setName","id","setId","allMovies","setAllMovies","GetMovies","handleGetAllMovies","res","console","log","handleEdit","document","getElementById","style","display","handleSubmit","success","data","title","handleDelete","filter","m","handleHideAddBox","e","target","value","length","map","movie","original_language","release_date"],"sources":["/home/mai/mai/git hub/project-by-hooks/src/components/movies list/moviesList.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Row, Col } from \"react-bootstrap\";\n\nimport Icon from \"../../common/icon\";\nimport AddBox from \"../../common/add box\";\nimport * as services from \"../../services/axios\";\nimport \"./moviesList.css\";\n\nfunction MoviesList() {\n  const [name, setName] = useState(\"\");\n  const [id, setId] = useState(null);\n  const [allMovies, setAllMovies] = useState(null);\n\n  useEffect(() => {\n    async function GetMovies() {\n      const res = await services.handleGetAllMovies();\n      setAllMovies(res);\n      console.log(\"res\", res);\n    }\n    GetMovies();\n  }, []);\n\n  ///////////////////////\n  const handleEdit = ({ id, name }) => {\n    document.getElementById(\"add-box\").style.display = \"block\";\n    setName(name);\n    setId(id);\n  };\n\n  const handleSubmit = async () => {\n    toast.success(\n      \"Note: this Api doesn't allow to edit data, but the code is correct, look at console to see your edit\"\n    );\n    document.getElementById(\"add-box\").style.display = \"none\";\n    const data = { title: name };\n    console.log(data);\n    // await services.handleEditMovie(id, data);\n  };\n\n  const handleDelete = async (id) => {\n    toast.success(\"DONE\");\n    // await services.handleRemoveMovie(id);\n    setAllMovies(allMovies.filter((m) => m.id !== id));\n  };\n\n  const handleHideAddBox = () => {\n    document.getElementById(\"add-box\").style.display = \"none\";\n  };\n  return (\n    <>\n      <Row>\n        <Col xs={12}>\n          <AddBox\n            id=\"add-box\"\n            header=\"Edit Movie Name\"\n            onSubmit={() => handleSubmit()}\n            onCancel={handleHideAddBox}\n          >\n            <p className=\"note\">\n              Note: this Api doesn't allow to edit data, but the code is correct\n            </p>\n            <input\n              type=\"text\"\n              placeholder=\"write another name\"\n              name=\"name\"\n              value={name || \"\"}\n              onChange={(e) => setName(e.target.value)}\n            />\n          </AddBox>\n        </Col>\n      </Row>\n      {/* /////////////////////////////////////// */}\n      <div className=\"moviesList\">\n        <h1 className=\"header\">There are {(allMovies || []).length} movies here </h1>\n        <div className=\"table-div\">\n          <table>\n            <thead>\n              <tr>\n                <th>TITLE</th>\n                <th>ID</th>\n                <th>LANGUAGE</th>\n                <th>RELEASE DATE</th>\n                <th>Delete </th>\n                <th>Edit </th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {(allMovies || []).map((movie) => (\n                <tr key={movie.id}>\n                  <td>{movie.title} </td>\n                  <td>{movie.original_language} </td>\n                  <td>{movie.id} </td>\n                  <td>{movie.release_date} </td>\n                  <td className=\"icons\">\n                    <Icon\n                      id=\"trashIcon\"\n                      title=\"delete\"\n                      className=\"ri-delete-bin-line\"\n                      onClick={() => handleDelete(movie.id)}\n                    />\n                  </td>\n                  <td className=\"icons\">\n                    <Icon\n                      id=\"arrowIcon\"\n                      title=\"edit this name\"\n                      className=\"ri-edit-line\"\n                      onClick={() =>\n                        handleEdit({ id: movie.id, name: movie.title })\n                      }\n                    />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default MoviesList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}